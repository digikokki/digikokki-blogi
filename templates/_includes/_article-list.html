{% block article %}
{% paginate craft.entries.section('blog').limit(blogSettings.postsPerPage) as info, entries %}
<div id="articleContainerList">
  {% for entry in entries %}
  <article class="articleListContent">
    <header>
      {% set categories = craft.categories.relatedTo(entry).level(1).limit(1) %}
      {% for category in categories %}
      <a href="{{ category.url }}"><h3>#{{ category.title }}</h3></a>
      {% endfor %}
      <a href="{{ entry.url }}"><h1>{{ entry.title }}</h1></a>
      <p class="time">Julkaistu: <time>{{ entry.postDate | date("m.d.Y") }}</time> · 3 kommenttia</p>
    </header>
    <section>
      <main class="articleListing">
        <div class="articleContent">
          <h2>{{entry.subTitle}}</h2>
          {% set paragraphs = entry.body|split('</p>') %}
          {% set teaser = paragraphs|first ~ '</p>' %}
          {{ teaser | slice(0,200) | raw   }}
          <a href="#">Lue koko artikkeli</a>
        </div>
        {% if entry.featuredImage | length %}
        <div class="articleCoverImage">
          <a href="{{ entry.url }}">
            {% if entry.featuredImage | length %}
              {% set featuredImage = "" %}
              {% set img_transform = {
                mode: 'fit',
                width: 600
              } %}
              {% for asset in entry.featuredImage %}
                {% set featuredImage = asset.getUrl(img_transform) %}
              {% endfor %}
              <img class="img-fluid" src="{{featuredImage}}" alt="{{entry.title}}">
            {% endif %}
          </a>
        </div>
        {% endif %}
      </main>
    </section>
  </article>
  {% endfor %}
  {% if info.prevUrl %}
  <a href="{{info.prevUrl}}" class="underline_from_right">« Edelliset | </a>
  {% endif %}
  {% if info.nextUrl %}
  <a href="{{info.nextUrl}}" class="underline_from_left">Seuraavat »</a>
  {% endif %}
</div>
{% endblock %}
